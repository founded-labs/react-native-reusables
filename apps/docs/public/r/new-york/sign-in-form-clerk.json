{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "sign-in-form-clerk",
  "type": "registry:component",
  "title": "Sign In Form (Clerk)",
  "author": "@mrzachnugent",
  "description": "A form for signing in using email and password or social providers with Clerk integration.",
  "dependencies": [
    "@clerk/clerk-expo"
  ],
  "registryDependencies": [
    "https://reactnativereusables.com/r/new-york/button.json",
    "https://reactnativereusables.com/r/new-york/card.json",
    "https://reactnativereusables.com/r/new-york/input.json",
    "https://reactnativereusables.com/r/new-york/label.json",
    "https://reactnativereusables.com/r/new-york/separator.json",
    "https://reactnativereusables.com/r/new-york/social-connections-clerk.json",
    "https://reactnativereusables.com/r/new-york/text.json"
  ],
  "files": [
    {
      "path": "./node_modules/@rnr/registry/src/blocks/clerk/sign-in-form.tsx",
      "content": "import { SocialConnections } from '@/registry/blocks/social-connections';\nimport { Button } from '@/registry/new-york/components/ui/button';\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from '@/registry/new-york/components/ui/card';\nimport { Input } from '@/registry/new-york/components/ui/input';\nimport { Label } from '@/registry/new-york/components/ui/label';\nimport { Separator } from '@/registry/new-york/components/ui/separator';\nimport { Text } from '@/registry/new-york/components/ui/text';\nimport { useSignIn } from '@clerk/clerk-expo';\nimport * as React from 'react';\nimport { Pressable, type TextInput, View } from 'react-native';\n\nexport function SignInForm() {\n  const { signIn, setActive, isLoaded } = useSignIn();\n  const [email, setEmail] = React.useState('');\n  const [password, setPassword] = React.useState('');\n  const passwordInputRef = React.useRef<TextInput>(null);\n  const [error, setError] = React.useState<{ email?: string; password?: string }>({});\n\n  async function onSubmit() {\n    if (!isLoaded) {\n      return;\n    }\n\n    // Start the sign-in process using the email and password provided\n    try {\n      const signInAttempt = await signIn.create({\n        identifier: email,\n        password,\n      });\n\n      // If sign-in process is complete, set the created session as active\n      // and redirect the user\n      if (signInAttempt.status === 'complete') {\n        setError({ email: '', password: '' });\n        await setActive({ session: signInAttempt.createdSessionId });\n        // TODO: If your app does not use `Stack.Protected`, navigate to your protected screen\n        return;\n      }\n      // TODO: Handle other statuses\n      console.error(JSON.stringify(signInAttempt, null, 2));\n    } catch (err) {\n      // See https://go.clerk.com/mRUDrIe for more info on error handling\n      if (err instanceof Error) {\n        const isEmailMessage =\n          err.message.toLowerCase().includes('identifier') ||\n          err.message.toLowerCase().includes('email');\n        setError(isEmailMessage ? { email: err.message } : { password: err.message });\n        return;\n      }\n      console.error(JSON.stringify(err, null, 2));\n    }\n  }\n\n  function onEmailSubmitEditing() {\n    passwordInputRef.current?.focus();\n  }\n\n  return (\n    <View className=\"gap-6\">\n      <Card className=\"border-border/0 sm:border-border shadow-none sm:shadow-sm sm:shadow-black/5\">\n        <CardHeader>\n          <CardTitle className=\"text-center text-xl sm:text-left\">Sign in to your app</CardTitle>\n          <CardDescription className=\"text-center sm:text-left\">\n            Welcome back! Please sign in to continue\n          </CardDescription>\n        </CardHeader>\n        <CardContent className=\"gap-6\">\n          <View className=\"gap-6\">\n            <View className=\"gap-1.5\">\n              <Label htmlFor=\"email\">Email</Label>\n              <Input\n                id=\"email\"\n                placeholder=\"m@example.com\"\n                keyboardType=\"email-address\"\n                autoComplete=\"email\"\n                autoCapitalize=\"none\"\n                onChangeText={setEmail}\n                onSubmitEditing={onEmailSubmitEditing}\n                returnKeyType=\"next\"\n                submitBehavior=\"submit\"\n              />\n              {error.email ? (\n                <Text className=\"text-destructive text-sm font-medium\">{error.email}</Text>\n              ) : null}\n            </View>\n            <View className=\"gap-1.5\">\n              <View className=\"flex-row items-center\">\n                <Label htmlFor=\"password\">Password</Label>\n                <Button\n                  variant=\"link\"\n                  size=\"sm\"\n                  className=\"web:h-fit ml-auto h-4 px-1 py-0 sm:h-4\"\n                  onPress={() => {\n                    // TODO: Navigate to forgot password screen\n                  }}>\n                  <Text className=\"font-normal leading-4\">Forgot your password?</Text>\n                </Button>\n              </View>\n              <Input\n                ref={passwordInputRef}\n                id=\"password\"\n                secureTextEntry\n                onChangeText={setPassword}\n                returnKeyType=\"send\"\n                onSubmitEditing={onSubmit}\n              />\n              {error.password ? (\n                <Text className=\"text-destructive text-sm font-medium\">{error.password}</Text>\n              ) : null}\n            </View>\n            <Button className=\"w-full\" onPress={onSubmit}>\n              <Text>Continue</Text>\n            </Button>\n          </View>\n          <Text className=\"text-center text-sm\">\n            Don&apos;t have an account?{' '}\n            <Pressable\n              onPress={() => {\n                // TODO: Navigate to sign up screen\n              }}>\n              <Text className=\"text-sm underline underline-offset-4\">Sign up</Text>\n            </Pressable>\n          </Text>\n          <View className=\"flex-row items-center\">\n            <Separator className=\"flex-1\" />\n            <Text className=\"text-muted-foreground px-4 text-sm\">or</Text>\n            <Separator className=\"flex-1\" />\n          </View>\n          <SocialConnections />\n        </CardContent>\n      </Card>\n    </View>\n  );\n}\n",
      "type": "registry:component"
    }
  ]
}